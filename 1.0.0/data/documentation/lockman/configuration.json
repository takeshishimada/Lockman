{"variants":[{"paths":["\/documentation\/lockman\/configuration"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"role":"article","title":"Configuration","modules":[{"name":"Lockman"}],"roleHeading":"Article"},"kind":"article","abstract":[{"text":"Configure Lockman for your application’s needs.","type":"text"}],"sections":[],"primaryContentSections":[{"kind":"content","content":[{"level":2,"text":"Overview","type":"heading","anchor":"Overview"},{"inlineContent":[{"type":"text","text":"LockmanManager provides configuration functionality to set Lockman’s behavior throughout the application. These settings allow you to customize default lock release timing and error handling behavior."}],"type":"paragraph"},{"inlineContent":[{"text":"Once configured, settings apply application-wide and can be overridden at various levels: in individual ","type":"text"},{"isActive":true,"overridingTitleInlineContent":[{"type":"codeVoice","code":"withLock"}],"identifier":"doc:\/\/Lockman\/documentation\/Lockman\/Lock","overridingTitle":"withLock","type":"reference"},{"text":" calls, ","type":"text"},{"isActive":true,"overridingTitleInlineContent":[{"type":"codeVoice","code":"Effect.lock"}],"identifier":"doc:\/\/Lockman\/documentation\/Lockman\/Lock","overridingTitle":"Effect.lock","type":"reference"},{"text":" method chains, or when configuring ","type":"text"},{"isActive":true,"overridingTitleInlineContent":[{"code":"Reducer.lock","type":"codeVoice"}],"identifier":"doc:\/\/Lockman\/documentation\/Lockman\/Lock","overridingTitle":"Reducer.lock","type":"reference"},{"text":".","type":"text"}],"type":"paragraph"},{"level":2,"text":"Configuration Options","type":"heading","anchor":"Configuration-Options"},{"level":3,"text":"defaultUnlockOption","type":"heading","anchor":"defaultUnlockOption"},{"inlineContent":[{"type":"text","text":"Sets the default timing for lock release."}],"type":"paragraph"},{"code":["\/\/ Configure during application initialization","LockmanManager.config.defaultUnlockOption = .immediate"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"inlineContent":[{"text":"Available values","type":"text"}],"type":"strong"},{"text":":","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"code":".immediate","type":"codeVoice"}],"type":"strong"},{"text":": Release immediately upon completion (default)","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"codeVoice","code":".mainRunLoop"}]},{"type":"text","text":": Release on the next main loop cycle"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"code":".transition","type":"codeVoice"}]},{"type":"text","text":": Release after platform-specific screen transition animation"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"code":".delayed(TimeInterval)","type":"codeVoice"}],"type":"strong"},{"text":": Release after the specified time interval","type":"text"}]}]}],"type":"unorderedList"},{"inlineContent":[{"inlineContent":[{"type":"text","text":"Priority order"}],"type":"strong"},{"type":"text","text":":"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Explicitly specified in method call ("},{"type":"codeVoice","code":"withLock"},{"type":"text","text":", "},{"type":"codeVoice","code":"Effect.lock"},{"type":"text","text":", or "},{"type":"codeVoice","code":"Reducer.lock"},{"type":"text","text":") (highest priority)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Action’s ","type":"text"},{"code":"unlockOption","type":"codeVoice"},{"text":" property (if implementing ","type":"text"},{"code":"LockmanAction","type":"codeVoice"},{"text":")","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"LockmanManager.config.defaultUnlockOption"},{"type":"text","text":" (lowest priority)"}]}]}],"type":"orderedList"},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Use cases"}]},{"type":"text","text":":"}]},{"items":[{"content":[{"inlineContent":[{"text":"Unified release timing considering UI transitions","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Consistent behavior settings across the application"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Adjustments for performance optimization"}]}]}],"type":"unorderedList"},{"type":"heading","anchor":"handleCancellationErrors","level":3,"text":"handleCancellationErrors"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Sets how to handle cancellation errors."}]},{"type":"codeListing","syntax":"swift","code":["\/\/ Ignore cancellation errors (default)","LockmanManager.config.handleCancellationErrors = false","","\/\/ Pass cancellation errors to error handler","LockmanManager.config.handleCancellationErrors = true"]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Values"}]},{"type":"text","text":":"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"codeVoice","code":"false"}]},{"type":"text","text":": Ignore cancellation errors and don’t pass to error handler (default)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"codeVoice","code":"true"}]},{"type":"text","text":": Pass cancellation errors to error handler"}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Use cases"}]},{"type":"text","text":":"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Logging cancellation processing"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Tracking cancellation situations during debugging"}]}]},{"content":[{"inlineContent":[{"text":"Collecting statistical information","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"heading","anchor":"Configuration-Examples","level":2,"text":"Configuration Examples"},{"level":3,"type":"heading","text":"Configuration during Application Initialization","anchor":"Configuration-during-Application-Initialization"},{"syntax":"swift","type":"codeListing","code":["\/\/ Configure in AppDelegate or App struct","func applicationDidFinishLaunching() {","    \/\/ Set release timing considering UI transitions","    LockmanManager.config.defaultUnlockOption = .transition","    ","    \/\/ Log cancellation errors during development","    #if DEBUG","    LockmanManager.config.handleCancellationErrors = true","    #endif","}"]},{"level":3,"type":"heading","text":"Individual Override","anchor":"Individual-Override"},{"syntax":"swift","type":"codeListing","code":["\/\/ Override in Reducer.lock()",".lock(","    boundaryId: CancelID.feature,","    unlockOption: .immediate, \/\/ Override global setting","    lockFailure: { error, send in","        \/\/ Error handling","    }",")","","\/\/ Override in Effect.lock()",".lock(","    action: action,","    boundaryId: CancelID.feature,","    unlockOption: .delayed(0.5) \/\/ Override for this effect",")","","\/\/ Override in withLock",".withLock(","    unlockOption: .transition, \/\/ Override for fine control","    operation: { send in","        \/\/ Processing that requires transition timing","    },","    action: action,","    boundaryId: CancelID.feature",")"]},{"level":2,"type":"heading","text":"Notes","anchor":"Notes"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Since configuration changes affect the entire application, it’s recommended to configure during initialization"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Runtime configuration changes are possible but should be done carefully to avoid unexpected behavior","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"During testing, it’s recommended to reset settings to avoid effects between tests"}]}]}],"type":"unorderedList"}]}],"hierarchy":{"paths":[["doc:\/\/Lockman\/documentation\/Lockman"]]},"identifier":{"url":"doc:\/\/Lockman\/documentation\/Lockman\/Configuration","interfaceLanguage":"swift"},"seeAlsoSections":[{"generated":true,"anchor":"Essentials","identifiers":["doc:\/\/Lockman\/documentation\/Lockman\/GettingStarted","doc:\/\/Lockman\/documentation\/Lockman\/BoundaryOverview","doc:\/\/Lockman\/documentation\/Lockman\/Lock","doc:\/\/Lockman\/documentation\/Lockman\/Unlock","doc:\/\/Lockman\/documentation\/Lockman\/ChoosingStrategy","doc:\/\/Lockman\/documentation\/Lockman\/ErrorHandling","doc:\/\/Lockman\/documentation\/Lockman\/DebuggingGuide"],"title":"Essentials"}],"schemaVersion":{"major":0,"minor":3,"patch":0},"references":{"doc://Lockman/documentation/Lockman/Unlock":{"abstract":[{"type":"text","text":"Understanding the unlocking mechanism in Lockman."}],"kind":"article","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/Unlock","title":"Unlock","type":"topic","url":"\/documentation\/lockman\/unlock","role":"article"},"doc://Lockman/documentation/Lockman/GettingStarted":{"role":"article","kind":"article","title":"Getting Started","url":"\/documentation\/lockman\/gettingstarted","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/GettingStarted","abstract":[{"text":"Learn how to integrate Lockman into your TCA application.","type":"text"}],"type":"topic"},"doc://Lockman/documentation/Lockman/Lock":{"abstract":[{"type":"text","text":"Understanding the locking mechanism in Lockman."}],"kind":"article","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/Lock","title":"Lock","type":"topic","url":"\/documentation\/lockman\/lock","role":"article"},"doc://Lockman/documentation/Lockman/ChoosingStrategy":{"type":"topic","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/ChoosingStrategy","url":"\/documentation\/lockman\/choosingstrategy","title":"Choosing a Strategy","kind":"article","abstract":[{"text":"Learn how to select the right strategy for your use case.","type":"text"}],"role":"article"},"doc://Lockman/documentation/Lockman/ErrorHandling":{"type":"topic","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/ErrorHandling","url":"\/documentation\/lockman\/errorhandling","title":"Error Handling","kind":"article","abstract":[{"text":"Learn about common error handling patterns in Lockman.","type":"text"}],"role":"article"},"doc://Lockman/documentation/Lockman":{"role":"collection","abstract":[{"type":"text","text":"A library to implement exclusive control of user actions in application development using TCA."}],"url":"\/documentation\/lockman","type":"topic","identifier":"doc:\/\/Lockman\/documentation\/Lockman","title":"Lockman","kind":"symbol"},"doc://Lockman/documentation/Lockman/DebuggingGuide":{"type":"topic","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/DebuggingGuide","url":"\/documentation\/lockman\/debuggingguide","title":"Debugging Guide","kind":"article","abstract":[{"text":"Learn how to debug Lockman-related issues in your application.","type":"text"}],"role":"article"},"doc://Lockman/documentation/Lockman/BoundaryOverview":{"abstract":[{"type":"text","text":"Understand the concept of boundaries in Lockman."}],"kind":"article","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/BoundaryOverview","title":"Boundary","type":"topic","url":"\/documentation\/lockman\/boundaryoverview","role":"article"}}}