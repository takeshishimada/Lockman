{"schemaVersion":{"major":0,"minor":3,"patch":0},"abstract":[{"text":"Attempts to acquire a lock using pre-captured lockmanInfo for consistent uniqueId handling.","type":"text"}],"metadata":{"role":"symbol","extendedModule":"Lockman","externalID":"s:7Lockman0A7ManagerO11acquireLock11lockmanInfo10boundaryId12unlockOptionAA0A6ResultOyxq_Gq__xAA0a6UnlockJ0OSgtKSHRzs8SendableRzAA0aF0R_r0_lFZ","symbolKind":"method","modules":[{"name":"Lockman"}],"title":"acquireLock(lockmanInfo:boundaryId:unlockOption:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"acquireLock"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"B"},{"kind":"text","text":", "},{"kind":"genericParameter","text":"I"},{"kind":"text","text":">("},{"kind":"externalParam","text":"lockmanInfo"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"I"},{"kind":"text","text":", "},{"kind":"externalParam","text":"boundaryId"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"B"},{"kind":"text","text":", "},{"kind":"externalParam","text":"unlockOption"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"LockmanUnlockOption","preciseIdentifier":"s:7Lockman0A12UnlockOptionO"},{"kind":"text","text":"?) "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"LockmanResult","preciseIdentifier":"s:7Lockman0A6ResultO"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"B"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"I"},{"kind":"text","text":">"}],"roleHeading":"Type Method"},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/Lockman\/documentation\/Lockman\/LockmanManager\/acquireLock(lockmanInfo:boundaryId:unlockOption:)"},"sections":[],"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["macOS"],"languages":["swift"],"tokens":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"acquireLock","kind":"identifier"},{"text":"<","kind":"text"},{"text":"B","kind":"genericParameter"},{"text":", ","kind":"text"},{"text":"I","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"lockmanInfo","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"I","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"boundaryId","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"B","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"unlockOption","kind":"externalParam"},{"text":": ","kind":"text"},{"identifier":"doc:\/\/Lockman\/documentation\/Lockman\/LockmanUnlockOption","text":"LockmanUnlockOption","kind":"typeIdentifier","preciseIdentifier":"s:7Lockman0A12UnlockOptionO"},{"text":"? = nil) ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"identifier":"doc:\/\/Lockman\/documentation\/Lockman\/LockmanResult","text":"LockmanResult","kind":"typeIdentifier","preciseIdentifier":"s:7Lockman0A6ResultO"},{"text":"<","kind":"text"},{"text":"B","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"I","kind":"typeIdentifier"},{"text":"> ","kind":"text"},{"text":"where","kind":"keyword"},{"text":" ","kind":"text"},{"text":"B","kind":"typeIdentifier"},{"text":" : ","kind":"text"},{"text":"Hashable","kind":"typeIdentifier","preciseIdentifier":"s:SH"},{"text":", ","kind":"text"},{"text":"B","kind":"typeIdentifier"},{"text":" : ","kind":"text"},{"text":"Sendable","kind":"typeIdentifier","preciseIdentifier":"s:s8SendableP"},{"text":", ","kind":"text"},{"text":"I","kind":"typeIdentifier"},{"text":" : ","kind":"text"},{"identifier":"doc:\/\/Lockman\/documentation\/Lockman\/LockmanInfo","text":"LockmanInfo","kind":"typeIdentifier","preciseIdentifier":"s:7Lockman0A4InfoP"}]}]},{"kind":"parameters","parameters":[{"name":"lockmanInfo","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Pre-captured lock information ensuring consistent uniqueId throughout lifecycle"}]}]},{"name":"boundaryId","content":[{"inlineContent":[{"text":"Boundary identifier for this lock and cancellation","type":"text"}],"type":"paragraph"}]}]},{"kind":"content","content":[{"type":"heading","level":2,"anchor":"return-value","text":"Return Value"},{"type":"paragraph","inlineContent":[{"text":"LockmanResult indicating lock acquisition status","type":"text"}]}]},{"kind":"content","content":[{"level":2,"text":"Lock Acquisition Protocol with UniqueId Consistency","type":"heading","anchor":"Lock-Acquisition-Protocol-with-UniqueId-Consistency"},{"inlineContent":[{"type":"text","text":"This method implements the core lock acquisition logic with guaranteed uniqueId consistency:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Pre-captured LockmanInfo","type":"text"}],"type":"strong"},{"text":": Uses lockmanInfo captured once at entry points","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Feasibility Check","type":"text"}]},{"type":"text","text":": Call "},{"type":"codeVoice","code":"canLock"},{"type":"text","text":" to determine if lock can be acquired"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Early Exit","type":"text"}]},{"type":"text","text":": Return appropriate result if lock acquisition is not possible"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Lock Acquisition"}]},{"type":"text","text":": Call "},{"type":"codeVoice","code":"lock"},{"type":"text","text":" to actually acquire the lock"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Consistent UniqueId"}],"type":"strong"},{"text":": Same lockmanInfo instance ensures unlock will succeed","type":"text"}]}]}],"type":"orderedList"},{"level":2,"text":"Boundary Lock Protection","type":"heading","anchor":"Boundary-Lock-Protection"},{"inlineContent":[{"type":"text","text":"The entire lock acquisition process is protected by a boundary-specific lock"},{"type":"text","text":" "},{"type":"text","text":"to ensure atomicity and prevent race conditions between:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Multiple lock acquisition attempts"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Lock acquisition and release operations"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Cleanup and acquisition operations","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":2,"text":"Cancellation Strategy","type":"heading","anchor":"Cancellation-Strategy"},{"inlineContent":[{"text":"When ","type":"text"},{"code":"canLock","type":"codeVoice"},{"text":" returns ","type":"text"},{"code":".successWithPrecedingCancellation","type":"codeVoice"},{"text":":","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"A cancellation effect is created for the specified boundaryId","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The cancellation effect is concatenated BEFORE the main effect"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"This ensures proper ordering: cancel existing â†’ execute new","type":"text"}]}]}],"type":"orderedList"},{"level":2,"text":"Performance Notes","type":"heading","anchor":"Performance-Notes"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Lock feasibility check is typically O(1) hash lookup","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Boundary lock acquisition is brief (microseconds)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Effect concatenation has minimal overhead"}]}]}],"type":"unorderedList"}]}],"variants":[{"paths":["\/documentation\/lockman\/lockmanmanager\/acquirelock(lockmaninfo:boundaryid:unlockoption:)"],"traits":[{"interfaceLanguage":"swift"}]}],"hierarchy":{"paths":[["doc:\/\/Lockman\/documentation\/Lockman","doc:\/\/Lockman\/documentation\/Lockman\/LockmanManager"]]},"kind":"symbol","references":{"doc://Lockman/documentation/Lockman/LockmanUnlockOption":{"navigatorTitle":[{"kind":"identifier","text":"LockmanUnlockOption"}],"identifier":"doc:\/\/Lockman\/documentation\/Lockman\/LockmanUnlockOption","type":"topic","url":"\/documentation\/lockman\/lockmanunlockoption","title":"LockmanUnlockOption","abstract":[{"type":"text","text":"Controls when unlock operations are executed."}],"kind":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"LockmanUnlockOption"}],"role":"symbol"},"doc://Lockman/documentation/Lockman/LockmanManager/acquireLock(lockmanInfo:boundaryId:unlockOption:)":{"fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"acquireLock","kind":"identifier"},{"text":"<","kind":"text"},{"text":"B","kind":"genericParameter"},{"text":", ","kind":"text"},{"text":"I","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"lockmanInfo","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"I","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"boundaryId","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"B","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"unlockOption","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:7Lockman0A12UnlockOptionO","text":"LockmanUnlockOption","kind":"typeIdentifier"},{"text":"?) ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"preciseIdentifier":"s:7Lockman0A6ResultO","text":"LockmanResult","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"text":"B","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"I","kind":"typeIdentifier"},{"text":">","kind":"text"}],"url":"\/documentation\/lockman\/lockmanmanager\/acquirelock(lockmaninfo:boundaryid:unlockoption:)","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/LockmanManager\/acquireLock(lockmanInfo:boundaryId:unlockOption:)","kind":"symbol","abstract":[{"type":"text","text":"Attempts to acquire a lock using pre-captured lockmanInfo for consistent uniqueId handling."}],"type":"topic","role":"symbol","title":"acquireLock(lockmanInfo:boundaryId:unlockOption:)"},"doc://Lockman/documentation/Lockman/LockmanInfo":{"identifier":"doc:\/\/Lockman\/documentation\/Lockman\/LockmanInfo","type":"topic","navigatorTitle":[{"text":"LockmanInfo","kind":"identifier"}],"title":"LockmanInfo","kind":"symbol","abstract":[{"text":"Represents information required by Lockman locking strategies.","type":"text"}],"url":"\/documentation\/lockman\/lockmaninfo","role":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"LockmanInfo","kind":"identifier"}]},"doc://Lockman/documentation/Lockman":{"identifier":"doc:\/\/Lockman\/documentation\/Lockman","type":"topic","url":"\/documentation\/lockman","abstract":[{"type":"text","text":"Elegant exclusive control for user actions in The Composable Architecture applications."}],"title":"Lockman","kind":"symbol","role":"collection"},"doc://Lockman/documentation/Lockman/LockmanResult":{"role":"symbol","kind":"symbol","type":"topic","abstract":[{"text":"The result of attempting to acquire a lock with integrated unlock capability.","type":"text"}],"fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"LockmanResult","kind":"identifier"}],"title":"LockmanResult","navigatorTitle":[{"text":"LockmanResult","kind":"identifier"}],"identifier":"doc:\/\/Lockman\/documentation\/Lockman\/LockmanResult","url":"\/documentation\/lockman\/lockmanresult"},"doc://Lockman/documentation/Lockman/LockmanManager":{"navigatorTitle":[{"text":"LockmanManager","kind":"identifier"}],"type":"topic","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"LockmanManager","kind":"identifier"}],"kind":"symbol","url":"\/documentation\/lockman\/lockmanmanager","role":"symbol","abstract":[{"text":"A facade providing static access to the shared ","type":"text"},{"type":"codeVoice","code":"LockmanStrategyContainer"},{"text":" and core framework functionality.","type":"text"}],"title":"LockmanManager","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/LockmanManager"}}}