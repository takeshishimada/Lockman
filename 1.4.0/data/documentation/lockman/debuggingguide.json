{"kind":"article","variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/lockman\/debuggingguide"]}],"sections":[],"hierarchy":{"paths":[["doc:\/\/Lockman\/documentation\/Lockman"]]},"schemaVersion":{"major":0,"patch":0,"minor":3},"abstract":[{"text":"Learn how to debug Lockman-related issues in your application.","type":"text"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/Lockman\/documentation\/Lockman\/DebuggingGuide"},"seeAlsoSections":[{"title":"Essentials","identifiers":["doc:\/\/Lockman\/documentation\/Lockman\/GettingStarted","doc:\/\/Lockman\/documentation\/Lockman\/BoundaryOverview","doc:\/\/Lockman\/documentation\/Lockman\/Lock","doc:\/\/Lockman\/documentation\/Lockman\/Unlock","doc:\/\/Lockman\/documentation\/Lockman\/ChoosingStrategy","doc:\/\/Lockman\/documentation\/Lockman\/Configuration","doc:\/\/Lockman\/documentation\/Lockman\/ErrorHandling"],"anchor":"Essentials","generated":true}],"metadata":{"modules":[{"name":"Lockman"}],"title":"Debugging Guide","roleHeading":"Article","role":"article"},"primaryContentSections":[{"content":[{"text":"Overview","anchor":"Overview","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Debugging issues in applications using Lockman requires a different approach from traditional debugging due to the complexity of exclusive control. LockmanManager provides powerful debugging features for developers to monitor lock states and identify problems."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"By utilizing appropriate debugging tools, you can efficiently identify and resolve lock conflicts, deadlocks, performance issues, and more."}]},{"text":"LockmanManager Debug Features","anchor":"LockmanManager-Debug-Features","type":"heading","level":2},{"text":"Enabling Debug Logs","anchor":"Enabling-Debug-Logs","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"Lockman provides detailed lock operation logs:","type":"text"}]},{"code":["\/\/ Enable debug logs (only works in DEBUG builds)","LockmanManager.debug.isLoggingEnabled = true"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Log output example"}]},{"type":"text","text":":"}]},{"code":["✅ [Lockman] canLock succeeded - Strategy: SingleExecution, BoundaryId: process, Info: LockmanSingleExecutionInfo(actionId: 'startProcessButtonTapped', uniqueId: 7BFC785A-3D25-4722-B9BC-A3A63A7F49FC, mode: boundary)","","❌ [Lockman] canLock failed - Strategy: SingleExecution, BoundaryId: process, Info: LockmanSingleExecutionInfo(actionId: 'startProcessButtonTapped', uniqueId: 1EBA9632-DE39-43B6-BE75-7C754476CD4E, mode: boundary), Reason: Boundary 'process' already has an active lock","","⚠️ [Lockman] canLock succeeded with cancellation - Strategy: PriorityBased, BoundaryId: sync, Info: LockmanPriorityBasedInfo(...), Cancelled: 'backgroundSync' (uniqueId: 123e4567-e89b-12d3-a456-426614174000), Error: LockmanPriorityBasedCancellationError"],"type":"codeListing","syntax":null},{"text":"Current Lock State Display","anchor":"Current-Lock-State-Display","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"You can display lock states in table format:","type":"text"}]},{"code":["\/\/ Display current lock state","LockmanManager.debug.printCurrentLocks()"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Output example"}]},{"type":"text","text":":"}]},{"code":["┌─────────────────┬──────────────────┬──────────────────────────────────────┬─────────────────┐","│ Strategy        │ BoundaryId       │ ActionId\/UniqueId                    │ Additional Info │","├─────────────────┼──────────────────┼──────────────────────────────────────┼─────────────────┤","│ SingleExecution │ CancelID.process │ startProcessButtonTapped             │ mode: boundary  │","│                 │                  │ 08CC1862-136F-4643-A796-F63156D8BF56 │                 │","├─────────────────┼──────────────────┼──────────────────────────────────────┼─────────────────┤","│ PriorityBased   │ CancelID.sync    │ backgroundSync                       │ priority: .low  │","│                 │                  │ 987f6543-a21b-34c5-d678-123456789012 │ behavior: .rep..│","└─────────────────┴──────────────────┴──────────────────────────────────────┴─────────────────┘"],"type":"codeListing","syntax":null},{"text":"Format Options","anchor":"Format-Options","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"You can customize the display format:","type":"text"}]},{"code":["\/\/ Compact display (for narrow terminals)","LockmanManager.debug.printCurrentLocks(options: .compact)","","\/\/ Detailed display","LockmanManager.debug.printCurrentLocks(options: .detailed)","","\/\/ Custom format","let customOptions = LockmanManager.debug.FormatOptions(","    useShortStrategyNames: true,","    simplifyBoundaryIds: true,","    maxStrategyWidth: 15,","    maxBoundaryWidth: 20",")","LockmanManager.debug.printCurrentLocks(options: customOptions)"],"type":"codeListing","syntax":"swift"},{"text":"Cleanup Feature","anchor":"Cleanup-Feature","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can reset problematic lock states:"}]},{"code":["\/\/ Clean up all locks from all strategies","LockmanManager.cleanup.all()","","\/\/ Clean up locks only for specific boundary","LockmanManager.cleanup.boundary(CancelID.userAction)"],"type":"codeListing","syntax":"swift"}],"kind":"content"}],"references":{"doc://Lockman/documentation/Lockman/GettingStarted":{"abstract":[{"text":"Learn how to integrate Lockman into your TCA application.","type":"text"}],"identifier":"doc:\/\/Lockman\/documentation\/Lockman\/GettingStarted","url":"\/documentation\/lockman\/gettingstarted","type":"topic","kind":"article","title":"Getting Started","role":"article"},"doc://Lockman/documentation/Lockman/ChoosingStrategy":{"role":"article","kind":"article","title":"Choosing a Strategy","abstract":[{"text":"Learn how to select the right strategy for your use case.","type":"text"}],"url":"\/documentation\/lockman\/choosingstrategy","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/ChoosingStrategy","type":"topic"},"doc://Lockman/documentation/Lockman/ErrorHandling":{"role":"article","kind":"article","title":"Error Handling","abstract":[{"text":"Learn about common error handling patterns in Lockman.","type":"text"}],"url":"\/documentation\/lockman\/errorhandling","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/ErrorHandling","type":"topic"},"doc://Lockman/documentation/Lockman/BoundaryOverview":{"role":"article","kind":"article","title":"Boundary","abstract":[{"text":"Understand the concept of boundaries in Lockman.","type":"text"}],"url":"\/documentation\/lockman\/boundaryoverview","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/BoundaryOverview","type":"topic"},"doc://Lockman/documentation/Lockman/Unlock":{"identifier":"doc:\/\/Lockman\/documentation\/Lockman\/Unlock","kind":"article","type":"topic","abstract":[{"text":"Understanding the unlocking mechanism in Lockman.","type":"text"}],"role":"article","title":"Unlock","url":"\/documentation\/lockman\/unlock"},"doc://Lockman/documentation/Lockman":{"url":"\/documentation\/lockman","title":"Lockman","kind":"symbol","identifier":"doc:\/\/Lockman\/documentation\/Lockman","abstract":[{"text":"A library to implement exclusive control of user actions in application development using TCA.","type":"text"}],"type":"topic","role":"collection"},"doc://Lockman/documentation/Lockman/Configuration":{"identifier":"doc:\/\/Lockman\/documentation\/Lockman\/Configuration","kind":"article","type":"topic","abstract":[{"text":"Configure Lockman for your application’s needs.","type":"text"}],"role":"article","title":"Configuration","url":"\/documentation\/lockman\/configuration"},"doc://Lockman/documentation/Lockman/Lock":{"identifier":"doc:\/\/Lockman\/documentation\/Lockman\/Lock","kind":"article","type":"topic","abstract":[{"text":"Understanding the locking mechanism in Lockman.","type":"text"}],"role":"article","title":"Lock","url":"\/documentation\/lockman\/lock"}}}