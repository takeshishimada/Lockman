{"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/lockman\/groupcoordinationstrategy"]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"identifier":{"url":"doc:\/\/Lockman\/documentation\/Lockman\/GroupCoordinationStrategy","interfaceLanguage":"swift"},"kind":"article","sections":[],"seeAlsoSections":[{"title":"Strategies","generated":true,"anchor":"Strategies","identifiers":["doc:\/\/Lockman\/documentation\/Lockman\/SingleExecutionStrategy","doc:\/\/Lockman\/documentation\/Lockman\/PriorityBasedStrategy","doc:\/\/Lockman\/documentation\/Lockman\/ConcurrencyLimitedStrategy","doc:\/\/Lockman\/documentation\/Lockman\/DynamicConditionStrategy","doc:\/\/Lockman\/documentation\/Lockman\/CompositeStrategy"]}],"primaryContentSections":[{"kind":"content","content":[{"level":2,"anchor":"Overview","text":"Overview","type":"heading"},{"inlineContent":[{"type":"text","text":"GroupCoordinationStrategy is a strategy that coordinates related processing as a group. Through leader-member role assignment, it ensures that multiple processes execute in appropriate order and conditions."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"This strategy is used in situations where multiple related processes need to work cooperatively."}],"type":"paragraph"},{"level":2,"anchor":"Group-System","text":"Group System","type":"heading"},{"level":3,"anchor":"Coordination-Roles","text":"Coordination Roles","type":"heading"},{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"none"}]},{"text":" - Non-exclusive Participant","type":"text"}],"type":"paragraph"},{"code":["LockmanGroupCoordinatedInfo(","    actionId: \"showProgress\",","    groupIds: [\"dataLoading\"],","    coordinationRole: .none",")"],"syntax":"swift","type":"codeListing"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Can participate regardless of group state"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Does not hinder execution of other participants","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Auxiliary processing such as UI updates or logging","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"type":"strong","inlineContent":[{"text":"leader","type":"text"}]},{"type":"text","text":" - Group Leader"}],"type":"paragraph"},{"code":["LockmanGroupCoordinatedInfo(","    actionId: \"startSync\",","    groupIds: [\"syncGroup\"],","    coordinationRole: .leader(.emptyGroup)",")"],"syntax":"swift","type":"codeListing"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Role to start group activities"}]}]},{"content":[{"inlineContent":[{"text":"Controls participation conditions according to entry policy","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Enables member participation"}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"type":"strong","inlineContent":[{"text":"member","type":"text"}]},{"type":"text","text":" - Group Member"}],"type":"paragraph"},{"code":["LockmanGroupCoordinatedInfo(","    actionId: \"processData\", ","    groupIds: [\"syncGroup\"],","    coordinationRole: .member",")"],"syntax":"swift","type":"codeListing"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Can only participate in active groups"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Executes when leader or other participants are present","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Responsible for coordinated processing","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":3,"anchor":"Leader-Entry-Policy","text":"Leader Entry Policy","type":"heading"},{"inlineContent":[{"type":"strong","inlineContent":[{"text":"emptyGroup","type":"text"}]},{"text":" - Start only in empty group","type":"text"}],"type":"paragraph"},{"code":[".leader(.emptyGroup)"],"syntax":"swift","type":"codeListing"},{"items":[{"content":[{"inlineContent":[{"text":"Can only participate when group is completely empty","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Starts new activity cycle","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Most strict control","type":"text"}]}]}],"type":"unorderedList"},{"inlineContent":[{"inlineContent":[{"text":"withoutMembers","type":"text"}],"type":"strong"},{"type":"text","text":" - Start without members"}],"type":"paragraph"},{"code":[".leader(.withoutMembers)"],"syntax":"swift","type":"codeListing"},{"items":[{"content":[{"inlineContent":[{"text":"Can participate when no members are present","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Other leaders are allowed","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Enables coordination between leaders","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"type":"strong","inlineContent":[{"text":"withoutLeader","type":"text"}]},{"type":"text","text":" - Start without leader"}],"type":"paragraph"},{"code":[".leader(.withoutLeader)"],"syntax":"swift","type":"codeListing"},{"items":[{"content":[{"inlineContent":[{"text":"Can participate when no other leaders are present","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Members are allowed"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Exclusive control of leader authority","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":2,"anchor":"Usage","text":"Usage","type":"heading"},{"level":3,"anchor":"Basic-Usage-Example","text":"Basic Usage Example","type":"heading"},{"code":["@LockmanGroupCoordination","enum ViewAction {","    case startDataSync","    case processChunk","    case showProgress","    ","    var lockmanInfo: LockmanGroupCoordinatedInfo {","        switch self {","        case .startDataSync:","            return LockmanGroupCoordinatedInfo(","                actionId: actionName,","                groupIds: [\"dataSync\"],","                coordinationRole: .leader(.emptyGroup)","            )","        case .processChunk:","            return LockmanGroupCoordinatedInfo(","                actionId: actionName,","                groupIds: [\"dataSync\"],","                coordinationRole: .member","            )","        case .showProgress:","            return LockmanGroupCoordinatedInfo(","                actionId: actionName,","                groupIds: [\"dataSync\"],","                coordinationRole: .none","            )","        }","    }","}"],"syntax":"swift","type":"codeListing"},{"level":3,"anchor":"Coordination-with-Multiple-Groups","text":"Coordination with Multiple Groups","type":"heading"},{"code":["LockmanGroupCoordinatedInfo(","    actionId: \"crossGroupOperation\",","    groupIds: [\"group1\", \"group2\", \"group3\"],","    coordinationRole: .leader(.emptyGroup)",")"],"syntax":"swift","type":"codeListing"},{"level":2,"anchor":"Operation-Examples","text":"Operation Examples","type":"heading"},{"level":3,"anchor":"Leader-Member-Coordination","text":"Leader-Member Coordination","type":"heading"},{"code":["Time: 0s  - leader(.emptyGroup) starts     ‚Üí ‚úÖ Execute (group empty)","Time: 1s  - member join request            ‚Üí ‚úÖ Execute (leader exists)","Time: 1s  - member join request            ‚Üí ‚úÖ Execute (group active)","Time: 2s  - leader(.emptyGroup) request    ‚Üí ‚ùå Reject (group active)","Time: 5s  - All participants complete      ‚Üí üîì Group dissolves","Time: 6s  - leader(.emptyGroup) request    ‚Üí ‚úÖ Execute (group empty)"],"syntax":null,"type":"codeListing"},{"level":3,"anchor":"Entry-Policy-Differences","text":"Entry Policy Differences","type":"heading"},{"code":["\/\/ .emptyGroup case","Group state: [empty] ‚Üí leader request ‚Üí ‚úÖ Allow","Group state: [member] ‚Üí leader request ‚Üí ‚ùå Reject","","\/\/ .withoutMembers case","Group state: [leader] ‚Üí leader request ‚Üí ‚úÖ Allow","Group state: [member] ‚Üí leader request ‚Üí ‚ùå Reject","","\/\/ .withoutLeader case","Group state: [member] ‚Üí leader request ‚Üí ‚úÖ Allow","Group state: [leader] ‚Üí leader request ‚Üí ‚ùå Reject"],"syntax":null,"type":"codeListing"},{"level":2,"anchor":"Error-Handling","text":"Error Handling","type":"heading"},{"inlineContent":[{"type":"text","text":"For errors that may occur with GroupCoordinationStrategy and their solutions, please also refer to the common patterns on the "},{"identifier":"doc:\/\/Lockman\/documentation\/Lockman\/ErrorHandling","overridingTitleInlineContent":[{"text":"Error Handling","type":"text"}],"isActive":true,"type":"reference","overridingTitle":"Error Handling"},{"type":"text","text":" page."}],"type":"paragraph"},{"level":3,"anchor":"LockmanGroupCoordinationError","text":"LockmanGroupCoordinationError","type":"heading"},{"inlineContent":[{"type":"strong","inlineContent":[{"text":"actionAlreadyInGroup","type":"text"}]},{"text":" - Action already in group","type":"text"}],"type":"paragraph"},{"code":["lockFailure: { error, send in","    if case .actionAlreadyInGroup(let existingInfo, let groupIds) = error as? LockmanGroupCoordinationError {","        send(.alreadyActive(\"Process is already running\"))","    }","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"inlineContent":[{"text":"leaderCannotJoinNonEmptyGroup","type":"text"}],"type":"strong"},{"text":" - Leader cannot join non-empty group","type":"text"}],"type":"paragraph"},{"code":["lockFailure: { error, send in","    if case .leaderCannotJoinNonEmptyGroup(let groupIds) = error as? LockmanGroupCoordinationError {","        send(.groupBusy(\"Cannot start because other processing is running\"))","    }","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"inlineContent":[{"text":"memberCannotJoinEmptyGroup","type":"text"}],"type":"strong"},{"text":" - Member cannot join empty group","type":"text"}],"type":"paragraph"},{"code":["lockFailure: { error, send in","    if case .memberCannotJoinEmptyGroup(let groupIds) = error as? LockmanGroupCoordinationError {","        send(.noActiveGroup(\"No active group\"))","    }","}"],"syntax":"swift","type":"codeListing"}]}],"metadata":{"title":"GroupCoordinationStrategy","modules":[{"name":"Lockman"}],"role":"article","roleHeading":"Article"},"hierarchy":{"paths":[["doc:\/\/Lockman\/documentation\/Lockman"]]},"abstract":[{"text":"Coordinate actions through leader\/member group roles.","type":"text"}],"references":{"doc://Lockman/documentation/Lockman/CompositeStrategy":{"identifier":"doc:\/\/Lockman\/documentation\/Lockman\/CompositeStrategy","role":"article","kind":"article","url":"\/documentation\/lockman\/compositestrategy","type":"topic","title":"CompositeStrategy","abstract":[{"text":"Combine multiple strategies for complex control scenarios.","type":"text"}]},"doc://Lockman/documentation/Lockman/PriorityBasedStrategy":{"url":"\/documentation\/lockman\/prioritybasedstrategy","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/PriorityBasedStrategy","kind":"article","title":"PriorityBasedStrategy","role":"article","abstract":[{"text":"Control action execution based on priority levels.","type":"text"}],"type":"topic"},"doc://Lockman/documentation/Lockman/SingleExecutionStrategy":{"url":"\/documentation\/lockman\/singleexecutionstrategy","type":"topic","title":"SingleExecutionStrategy","kind":"article","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/SingleExecutionStrategy","role":"article","abstract":[{"text":"Prevent duplicate execution of the same action.","type":"text"}]},"doc://Lockman/documentation/Lockman/ErrorHandling":{"abstract":[{"text":"Learn about common error handling patterns in Lockman.","type":"text"}],"kind":"article","role":"article","url":"\/documentation\/lockman\/errorhandling","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/ErrorHandling","type":"topic","title":"Error Handling"},"doc://Lockman/documentation/Lockman":{"title":"Lockman","kind":"symbol","role":"collection","url":"\/documentation\/lockman","abstract":[{"text":"A library to implement exclusive control of user actions in application development using TCA.","type":"text"}],"identifier":"doc:\/\/Lockman\/documentation\/Lockman","type":"topic"},"doc://Lockman/documentation/Lockman/DynamicConditionStrategy":{"type":"topic","role":"article","title":"DynamicConditionStrategy","url":"\/documentation\/lockman\/dynamicconditionstrategy","kind":"article","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/DynamicConditionStrategy","abstract":[{"text":"Control actions based on runtime conditions.","type":"text"}]},"doc://Lockman/documentation/Lockman/ConcurrencyLimitedStrategy":{"title":"ConcurrencyLimitedStrategy","abstract":[{"type":"text","text":"Limit the number of concurrent executions."}],"type":"topic","url":"\/documentation\/lockman\/concurrencylimitedstrategy","role":"article","kind":"article","identifier":"doc:\/\/Lockman\/documentation\/Lockman\/ConcurrencyLimitedStrategy"}}}